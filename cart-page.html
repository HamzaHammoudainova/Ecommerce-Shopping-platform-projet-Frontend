<!DOCTYPE html>
<!--[if IE]><![endif]-->
<!--[if lt IE 6 ]> <html lang="en" class="ie6">    <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="ie7">    <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="ie8">    <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="ie9">    <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->


<!-- Mirrored from premiumlayers.com/html/ecom/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 30 Nov 2021 08:30:11 GMT -->

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Fashion Platform | Cart page </title>

	<!-- Font css  -->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Lato:400,400italic,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="fonts/fonts.css">

	<!-- Fontawesome css      -->
	<link rel="stylesheet" href="../../../maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- Bootstrap css      -->
	<link rel="stylesheet" href="css/bootstrap.css">

	<!-- Owncarousel css      -->
	<link rel="stylesheet" href="css/owl.carousel.css">

	<!-- image zoom -->
	<link rel="stylesheet" href="css/glasscase.css">
	<link rel="stylesheet" href="css/glasscase.minf195.css">

	<!-- CSS STYLE-->
	<link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />

	<!-- SLIDER REVOLUTION 4.x CSS SETTINGS -->
	<link rel="stylesheet" type="text/css" href="css/extralayers.css" media="screen" />
	<link rel="stylesheet" type="text/css" href="rs-plugin/css/settings.css" media="screen" />

	<!-- Main css   -->
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="css/responsive.css">

	<!-- Favicons -->
	<link rel="apple-touch-icon-precomposed" href="images/apple-touch-icon-precomposed.png">
	<link rel="shortcut icon" type="image/png" href="images/favicon.png" />

	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	<!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

	<!--  HEADER-AREA  -->
	<header class="entire_header">
		<div class="header-area">
			<div class="container">
				<div class="row">
					<div class="col-md-6 col-sm-5">
						<div class="user-menu">
							<ul class="list-unstyled list-inline">
								<li class="dropdown dropdown-small">
									<a data-toggle="dropdown" data-hover="dropdown" class="dropdown-toggle"
										href="#"><span class="value">English </span><i class="fa fa-angle-down"></i></a>
									<ul class="dropdown-menu">
										<li><a href="#">English</a>
										</li>
										<li><a href="#">French</a>
										</li>
									</ul>
								</li>

								<li class="dropdown dropdown-small">
									<a data-toggle="dropdown" data-hover="dropdown" class="dropdown-toggle"
										href="#"><span class="value">TND </span><i class="fa fa-angle-down"></i></a>
									<ul class="dropdown-menu">
										<li><a href="#">TND</a>
										<li><a href="#">USD</a>
										</li>

									</ul>
								</li>
								<li>Welcome to Fashion Platform</li>
							</ul>
						</div>
					</div>
					<div class="col-md-6 col-sm-7">
						<div class="header-right">
							<ul id="list">

							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Header-area:END -->

		<!-- Logo-area -->
		<style>
			.logo img {
				width: 300px;
				margin-bottom: 50px;
			}
		</style>
		<div class="logo_area">
			<div class="container">
				<div class="row">
					<div class="col-sm-4 col-md-4 col-xs-12">
						<div class="logo">
							<a href="index.html"><img src="images/Fashion platform.png" alt="">
							</a>
						</div>
					</div>
					<div class="col-sm-8 col-md-8 col-xs-12">
						<div class="search-area">
							<form>
								<div class="control-group">

									<ul class="categories-filter animate-dropdown">
										<li class="dropdown">

											<a class="dropdown-toggle" data-toggle="dropdown" href="#">All Categories <b
													class="caret"></b></a>

											<ul class="dropdown-menu" role="menu">

												<li role="presentation"><a role="menuitem" tabindex="-1"
														href="product-list.html">Fashion</a>
												</li>
												<li role="presentation"><a role="menuitem" tabindex="-1"
														href="product-list.html">Watches</a>
												</li>
												<li role="presentation"><a role="menuitem" tabindex="-1"
														href="product-list.html">House
														Wares</a>
												</li>
												<li role="presentation"><a role="menuitem" tabindex="-1"
														href="product-list.html">Desktop</a>
												</li>
												<li role="presentation"><a role="menuitem" tabindex="-1"
														href="product-list.html">Smartphones</a>
												</li>


											</ul>
										</li>
									</ul>
									<input class="search-field" id="myInput" onkeyup="myFunction()"
										placeholder="Search here..." />
									<a class="search-button" href="#"></a>
								</div>
							</form>
						</div>
						<div class="logo_right">
							<span><i class="fa fa-phone"></i></span>
							<a href="tel:+112345689">CALL US FREE
								<br />+216 26 598 399</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- LOGO-AREA:END -->

		<!-- MENU-AREA -->

		<div class="menu-area">
			<div class="container">
				<div class="row">
					<div class="col-md-3 col-sm-3 col-xs-12">
						<div class="categories">
							<ul id="nav">
								<li>Categories <i class="fa fa-bars"></i>
									<ul>
										<li><a href="product-list.html"><i class="fa fa-male"></i> Fashion</a> </li>
										<li><a href="product-list.html"><i class="fa fa-clock-o"></i> Watches</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-home"></i>House Wares </a> </li>
										<li><a href="product-list.html"><i class="fa fa-desktop"></i> Desktop & Monitors
											</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-mobile"></i> Smartphones</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-laptop"></i> Laptop & Tablates
											</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-lightbulb-o"></i> Light & Lamps
											</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-volume-up"></i> Sound &
												Audio</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-heart-o"></i> Health &
												Medical</a>
										</li>
										<li><a href="product-list.html"><i class="fa fa-heartbeat"></i> Gym
												Equipments</a>
										</li>
									</ul>
								</li>
							</ul>
						</div>
					</div>
					<div class="col-md-6 col-sm-6 col-xs-12">
						<nav class="main-menu">
							<ul id="navigation">
								<li class="active"><a href="index.html">Home </a>
								</li>
								<li><a href="about-us.html">About Us</a>
								</li>
								<li><a href="product-list.html">Product List </a>
								</li>
								<li><a href="Men.html">Men</a>
								</li>
								<li><a href="Women.html">Women</a>
								</li>
								<li><a href="contact-us.html">Contact Us</a>
								</li>
							</ul>
						</nav>

						<!-- Mobile Navigation -->
						<div class="only-for-mobile">
							<div class="col-xs-12">
								<ul class="ofm">
									<li class="m_nav"><i class="fa fa-bars"></i> Navigation</li>
								</ul>

								<!-- MOBILE MENU -->
								<div class="mobi-menu">
									<div id='cssmenu'>
										<ul>
											<li>
												<a href='index.html'><span>Home</span></a>
											</li>
											<li>
												<a href='about-us.html'><span>About Us</span></a>
											</li>
											<li>
												<a href="product-list.html"><span>Product List</span> </a>
											</li>
											<li>
												<a href='Men.html'><span>Men</span></a>
											</li>
											<li>
												<a href='Women.html'><span>Women</span></a>
											</li>
											<li>
												<a href='contact-us.html'><span>Contact Us</span></a>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-3 col-xs-12">
						<div class="menu_right">
							<a href="cart-page.html"><i class="fa fa-shopping-cart"></i>My Cart</a>
							<span id="cartnumb"></span>

						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- MENU-AREA:END -->
	</header>
	<!-- Header-AREA END -->

	<!-- PAGE-TITLE-AREA -->
	<section class="page-title-area">
		<div class="page-title-overlay">
			<div class="container">
				<div class="row">
					<div class="col-md-12 col-sm-12 col-xs-12">
						<div class="page-title">
							<h3>Shoping cart</h3>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- PAGE-TITLE-AREA:END -->

	<!-- BREADCRUMBS -->
	<div class="title-breadcrumb">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12">
					<div class="bred-title">
						<h3>Shoping cart</h3>
					</div>
					<ol class="breadcrumb">
						<li><a href="index.html">Home</a>
						</li>
						<li><a href="cart-page.html">Shoping cart</a>
						</li>
					</ol>
				</div>
			</div>
		</div>
	</div>
	<!-- BREADCRUMBS:END -->

	<!-- SHOPING-CART-AREA   -->
	<div class="shoping-cart section-padding">
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12">
					<div class="headline">
						<h2>Shopping cart</h2>
					</div>
					<div class="table-responsive">
						<table class="table table-bordered">
							<thead>
								<tr>
									<th class="cart-product item">Product</th>
									<th class="cart-product-name item">Product Name</th>
									<th class="cart-qty item">Quantity</th>
									<th class="cart-unit item">Unit price</th>
									<th class="cart-sub-total last-item">Sub total</th>
									<th class="cart-romove item">Remove</th>
								</tr>
							</thead>
							<tbody id="cart_list"></tbody>
							<!-- /thead -->
							<tfoot>
								<tr>
									<td colspan="7">
										<div class="shopping-cart-btn">
											<button type="button" class="btn btn-default left-cart"><a
													href="product-list.html">Continue
													Shopping</a> </button>
											<button type="button" class="btn btn-default right-cart right-margin">Total
												: <p id="total">
												</p>
											</button>
											<button type="button" onclick="deleteall()"
												class="btn btn-default right-cart right-margin">Clear
												shopping cart</button>
											<button type="button" onclick="updateall()"
												class="btn btn-default right-cart">Update shopping
												cart</button>
										</div>
										<!-- /.shopping-cart-btn -->
									</td>
								</tr>
							</tfoot>
							<tbody>


							</tbody>
							<!-- /tbody -->
						</table>
						<!-- /table -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- SHOPING-CART-AREA:END   -->

	<!-- SHOPING-CART-BOTTOM-AREA   -->

	<!-- SHOPING-CART-BOTTOM-AREA:END   -->

	<!-- Entire FOOTER:START -->
	<footer class="entire_footer">
		<!-- FOOTER-TOP-AREA -->

		<!-- FOOTER-WIDGET-AREA:END -->

		<!-- FOOTER-AREA -->
		<div class="footer_area">
			<div class="container">
				<div class="row">
					<div class="col-md-6 col-sm-6 col-xs-12">
						<div class="footer_text">
							<p>&copy;2021 <a href="index.html">Fashion Platform</a>. All rights reserved</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- FOOTER-AREA:END -->
	</footer>
	<!-- Entire FOOTER:END -->

	<!-- jQuery latest -->
	<script type="text/javascript" src="js/jQuery.2.1.4.js"></script>

	<!-- js Modernizr -->
	<script src="js/modernizr-2.6.2.min.js"></script>

	<!-- Revolution slider -->
	<script type="text/javascript" src="rs-plugin/js/jquery.themepunch.tools.min.js"></script>
	<script type="text/javascript" src="rs-plugin/js/jquery.themepunch.revolution.min.js"></script>

	<!-- Bootsrap js -->
	<script src="js/bootstrap.min.js"></script>

	<!-- Plugins js -->
	<script src="js/plugins.js"></script>

	<!-- Owl js -->
	<script src="js/owl.carousel.min.js"></script>

	<!-- Custom js -->
	<script src="js/main.js"></script>

	<script>
		// Create a request variable and assign a new XMLHttpRequest object to it.
		var request = new XMLHttpRequest();
		// Open a new connection, using the GET request on the URL endpoint
		request.open("GET", "http://127.0.0.1:3000/carts", true);
		request.onload = function () {
			var data = JSON.parse(this.response);
			var count = 0;
			data.forEach(i => {
				if (i.iduser == localStorage.getItem("id")) {
					console.log(i._id);
					count++;
				}
			})
			document.getElementById("cartnumb").innerHTML = count;
		};
		// Send request
		request.send();
	</script>


	<script>
		// Create a request variable and assign a new XMLHttpRequest object to it.
		var request = new XMLHttpRequest()
		// Open a new connection, using the GET request on the URL endpoint
		request.open('GET', 'http://127.0.0.1:3000/carts', true)
		request.onload = function () {
			// Begin accessing JSON data here
			var data = JSON.parse(this.response)
			var table = document.getElementById("cart_list");
			var j = 1;

			data.forEach(i => {
				console.log(i._id);
				if (i.iduser == localStorage.getItem("id")) {

					var row = table.insertRow(-1);//<tr>
					var cell1 = row.insertCell(0);//<td>
					var cell2 = row.insertCell(1);//<td>
					var cell3 = row.insertCell(2);//<td>
					var cell4 = row.insertCell(3);//<td>
					var cell5 = row.insertCell(4);//<td>
					var cell6 = row.insertCell(5);//<td>

					cell1.innerHTML = '<div class="cart-image"><img class="immg" style="width:100px;" src="' + i.img + '"></div>';
					cell2.innerHTML = `<p class ="namep"> ` + i.name + ` </p>`;
					cell3.innerHTML = `<div class="cart-product-quantity">
					<form onsubmit="return false">
																							<input type="number" size="4" class="input-text qty text qnnt" title="Qty"
																								value="`+ i.qnt + `" name="quantity[113]" max="119" min="0" step="1">
																						</form>
<input type="hidden" class="idd" value="`+ i._id + `" >
<input type="hidden" class="iddp" value="`+ i.idp + `" ></div>`;

					cell4.innerHTML = `<p class="priix">` + i.prix + `</p>`;
					cell5.innerHTML = `<p class="subt">` + i.prix * i.qnt + `</p>`;
					//href delete sweet alert
					cell6.innerHTML = '<a onclick ="removeEach(`' + i._id + '`)" Style="cursor:pointer;"><i class="fa fa-trash" style=" font-size:30px; align-content:center; align-item:center; justify-content:center; display:flex;" aria-hidden="true"></i></a>'
					j = j + 1;
				}
			})
		}
		// Send request
		request.send()
	</script>

	<script>
		function removeEach(idd) {
			Swal.fire({
				title: 'Are you sure?',
				text: "You won't be able to revert this!",
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Yes, delete it!'
			}).then((result) => {
				if (result.isConfirmed) {

					var url3 = "http://127.0.0.1:3000/carts/" + idd;
					var xhr3 = new XMLHttpRequest();
					xhr3.open("DELETE", url3, true);
					xhr3.onload = function () {
						if (xhr3.readyState == 4 && xhr3.status == "200") {
							event.preventDefault();
						} else {
							console.log("error");
						}
					}
					location.reload();
					xhr3.send(null);
				}

			})
		}
	</script>

	<script>

		var qnnt = '';
		var priix = '';
		var immg = '';
		var iddp = '';
		var naame = '';
		var n = '';
		var j = 0;

		function updateall() {
			var tott = 0;

			var x = document.getElementsByClassName("qnnt");
			var y = document.getElementsByClassName("priix");
			var z = document.getElementsByClassName("idd");
			var p = document.getElementsByClassName("iddp");
			var img = document.getElementsByClassName("immg");
			var nam = document.getElementsByClassName("namep");
			n = x.length;

			for (i = 0; i < n; i++) {
				qnnt = x[i].value;
				priix = parseInt(y[i].innerHTML);
				var subt = priix * qnnt;
				tott = tott + subt;
				var zz = z[i].value;
				iddp = p[i].value;
				immg = img[i].src;
				naame = nam[i].innerHTML;
				update(zz);
				document.getElementsByClassName("subt")[i].innerHTML = subt;
			}
			document.getElementById("total").innerHTML = tott;
		}
		function update(zz) {
			var url = "http://127.0.0.1:3000/carts/" + zz;

			var data = {};
			data.name = naame;
			data.qnt = qnnt;
			data.prix = priix;
			data.img = immg;
			data.idp = iddp;
			data.iduser = localStorage.getItem("id");


			var json = JSON.stringify(data);
			var xhr = new XMLHttpRequest();
			xhr.open("PUT", url, true);
			xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');
			xhr.onload = function () {
				var carts = JSON.parse(xhr.responseText);
				if (xhr.readyState == 4 && xhr.status == "200") {
					console.log("succes!!");
					j = j + 1;
					if (j == n) {
						Swal.fire({
							position: 'top-end',
							icon: 'success',
							title: 'Your cart has been updated & saved',
							showConfirmButton: false,
							timer: 5000
						})
						j = 0;
					}
				} else {
					console.error(carts);
				}
			}
			xhr.send(json);
		}

		const myTimeout = setTimeout(myGreeting, 1000);

		function myGreeting() {
			var tott = 0;

			var x = document.getElementsByClassName("qnnt");
			var y = document.getElementsByClassName("priix");
			n = x.length;
			for (i = 0; i < n; i++) {
				qnnt = x[i].value;
				priix = parseInt(y[i].innerHTML);
				var subt = priix * qnnt;
				tott = tott + subt;
				document.getElementsByClassName("subt")[i].innerHTML = subt;
			}
			document.getElementById("total").innerHTML = tott;
		}

		function myStopFunction() {
			clearTimeout(myTimeout);
		}
	</script>

	<script>
		function deleteall() {
			var request = new XMLHttpRequest()

			// Open a new connection, using the GET request on the URL endpoint
			request.open('GET', 'http://127.0.0.1:3000/carts', true)

			request.onload = function () {
				// Begin accessing JSON data here
				var data = JSON.parse(this.response)

				console.log(data);
				data.forEach(i => {
					if (i.iduser == localStorage.getItem("id")) {
						console.log(i._id);
						remove(i._id);
					}
				})
			}

			// Send request
			request.send()
		}
	</script>

	<script>
		function remove(c) {
			console.log(c);
			// Post a user
			var url3 = "http://127.0.0.1:3000/carts/" + c;
			var xhr3 = new XMLHttpRequest();
			xhr3.open("DELETE", url3, true);
			xhr3.onload = function () {
				if (xhr3.readyState == 4 && xhr3.status == "200") {
					console.log("deleted : " + c);
					event.preventDefault();
				} else {
					console.log("error");
				}
			}
			location.reload();
			xhr3.send(null);
		}
	</script>

	<script>
		function myFunction() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("myInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("cart_list");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[1];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>

	<script>
		function logout() {
			if (!localStorage.getItem("id")) {
				alert("You didn't Log in Yet!");
			}
			else {
				var c = window.confirm("Want to LOGOUT?!");
				if (c == true) {
					localStorage.clear();
					location.replace("login.html");
				}
			}
		}
	</script>
	<script>
		if (!localStorage.getItem("id")) {
			document.getElementById("list").innerHTML = `
	                    <li>
	                        <a href="register.html"><img src="images/check.png" alt="#"> Register</a>
	                    </li>
	                    <li>
	                        <a class="logg" href="Login.html"><img class="login" src="images/log.png" alt="#">
	                            Login
	                        </a>
	                    </li>
	                `;
		}
		else {
			document.getElementById("list").innerHTML = `
	                    <li class="dropdown dropdown-small">
	                        <a data-toggle="dropdown" data-hover="dropdown" class="dropdown-toggle"
	                            href="#"><img class="account" src="images/account.png" alt="#"><span
	                            class="value">My Account </span><i class="fa fa-angle-down"></i>
	                        </a>
	                        <ul class="dropdown-menu account-menu">
	                            <li><a href="profile.html">My account</a></li>
	                            <li><a href="wishlist.html">Wishlist</a></li>
	                            <li><a href="product-list.html">Shopping</a></li>
	                        </ul>
	                    </li>
	                    <li class="last-child">
	                        <a class="logg" href="#" onclick="logout()"><img class="login" src="images/log.png" alt="#">
	                            Logout
	                        </a>
	                    </li>
	                `;
		}
	</script>
</body>


<!-- Mirrored from premiumlayers.com/html/ecom/cart-page.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 30 Nov 2021 08:33:38 GMT -->

</html>