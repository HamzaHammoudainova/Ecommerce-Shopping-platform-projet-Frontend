<script>
 if (!localStorage.getItem("id")) {
  location.replace("Login.html");
 }
</script>
<!DOCTYPE html>
<html lang="en">

<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 <title>Delete</title>
</head>

<body>
 <script>
  Swal.fire({
   title: 'Are you sure?',
   text: "You won't be able to revert this!",
   icon: 'warning',
   showCancelButton: true,
   confirmButtonColor: '#3085d6',
   cancelButtonColor: '#d33',
   confirmButtonText: 'Yes, delete it!'
  }).then((result) => {
   if (result.isConfirmed) {
    var url_string = window.location.href
    var url = new URL(url_string);
    var c = url.searchParams.get("id");
    console.log(c);
    // Post a user
    var url3 = "http://127.0.0.1:3000/carts/" + c;
    var xhr3 = new XMLHttpRequest();
    xhr3.open("DELETE", url3, true);
    xhr3.onload = function () {
     if (xhr3.readyState == 4 && xhr3.status == "200") {
      location.replace("cart-page.html");
      event.preventDefault();
     } else {
      console.log("error");
     }
    }
    xhr3.send(null);

   }
   else {
    location.replace("cart-page.html");

   }
  })
 </script>
</body>

</html>